# üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è `viewed`

## –ü—Ä–æ–±–ª–µ–º–∞
–ö–∞—É–Ω—Ç–µ—Ä –≤ Header –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ.

## –†–µ—à–µ–Ω–∏–µ
–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `viewed` –≤ —Ç–∞–±–ª–∏—Ü—É `generations` –≤ Supabase.

---

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Supabase Dashboard (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://supabase.com
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç

2. **–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor:**
   - –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏—Ç–µ "SQL Editor"
   - –ù–∞–∂–º–∏—Ç–µ "+ New Query"

3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL:**

```sql
-- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è viewed –∏ viewed_at
ALTER TABLE generations 
ADD COLUMN IF NOT EXISTS viewed BOOLEAN DEFAULT false;

ALTER TABLE generations 
ADD COLUMN IF NOT EXISTS viewed_at TIMESTAMP WITH TIME ZONE;

-- –ü–æ–º–µ—Ç–∏—Ç—å –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
UPDATE generations 
SET viewed = true, viewed_at = NOW() 
WHERE created_at < NOW();
```

4. **–ù–∞–∂–º–∏—Ç–µ "Run"** (Ctrl/Cmd + Enter)

5. **–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É** http://localhost:3000

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏

–§–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏ —É–∂–µ —Å–æ–∑–¥–∞–Ω: `supabase/migrations/add_viewed_field.sql`

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ Supabase Dashboard.

---

## ‚úÖ –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- –ö–∞—É–Ω—Ç–µ—Ä –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ **–Ω–µ–ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ** –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- **–ö–ª–∏–∫ –ø–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏** ‚Üí –ø–æ–º–µ—á–∞–µ—Ç –∫–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—É—é
- **–ö–∞—É–Ω—Ç–µ—Ä –∏—Å—á–µ–∑–∞–µ—Ç** –∫–æ–≥–¥–∞ –≤—Å–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ
- **–ù–æ–≤—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏** —Å–æ–∑–¥–∞—é—Ç—Å—è —Å `viewed = false`

---

## üß™ –¢–µ—Å—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –ö–∞—É–Ω—Ç–µ—Ä –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `0` (–≤—Å–µ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ)
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
4. –ö–∞—É–Ω—Ç–µ—Ä –ø–æ—è–≤–∏—Ç—Å—è —Å `‚ü≥ 1`
5. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—É–Ω—Ç–µ—Ä ‚Üí –æ—Ç–∫—Ä–æ–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
6. –ö–∞—É–Ω—Ç–µ—Ä –∏—Å—á–µ–∑–Ω–µ—Ç (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω–∞—è)

---

**–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç!** üéØ




